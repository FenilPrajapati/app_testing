<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- ************************ Track Trace Event ************************** -->
        <!-- ********** Track Trace Event search view ********** -->
        <record id="track_trace_event_search_view" model="ir.ui.view">
            <field name="name">track.trace.event.search.view</field>
            <field name="model">track.trace.event</field>
            <field name="arch" type="xml">
                <search string="Search Purchase Order">
                    <field name="carrier_booking" string="Carrier Booking" filter_domain="[('carrier_booking', 'ilike', self)]"/>
                    <field name="carrier_booking"/>
                    <field name="transport_id"/>
                    <separator/>
                    <filter name="planned_events" string="Planned" domain="[('event_stage', '=', 'pln')]"/>
                    <filter name="estimated_events" string="Estimated" domain="[('event_stage', '=', 'est')]"/>
                    <filter name="actual_events" string="Actual" domain="[('event_stage', '=', 'act')]"/>
                    <filter name="delayed_events" string="Delayed" domain="[('is_delayed', '=', True)]"/>
                    <filter name="under_detention" string="Under Detention" domain="[('under_detention', '=', True)]"/>
                    <filter name="under_demurrage" string="Under Demurrage" domain="[('under_demurrage', '=', True)]"/>
                    <filter name="at_origin" string="At Origin" domain="[('at_origin', '=', True)]"/>
                    <filter name="at_destination" string="At destination" domain="[('at_destination', '=', True)]"/>
                    <filter name="in_transit" string="In Transit" domain="[('in_transit', '=', True)]"/>
                    <filter name="at_ts_port" string="At transshipment port" domain="[('at_ts_port', '=', True)]"/>
                    <filter name="gt_tracked" string="Tracked by Gatehouse" domain="[('gt_tracked', '=', True)]"/>
                </search>
            </field>
        </record>

        <!-- ********** Track Trace Event tree view ********** -->
        <record id="track_trace_event_tree_view" model="ir.ui.view">
            <field name="name">track.trace.event.tree.view</field>
            <field name="model">track.trace.event</field>
            <field name="arch" type="xml">
                <tree string="Track Trace Event" decoration-danger="is_delayed == True" js_class="tnt_event_dashboard">
                    <field name="carrier_booking" string="Carrier Booking" />
                    <!-- <field name="party_name_id" /> -->
                    <field name="cont_id"/>
                    <!-- <field name="cont_type"/> -->
                    <field name="transport_document_reference"/>
                    <!-- <field name="port_of_origin_id"/>
                    <field name="fpod_id"/>
                    <field name="partner_id" />
                    <field name="event_stage"/> -->
                    <field name="at_origin_time"/>
                    <field name="at_dest_time"/>
                    <field name="is_delayed" invisible="1" decoration-danger="is_delayed == True"/>
                </tree>
            </field>
        </record>

        <!-- ********** Track Trace Event form view ********** -->
        <record id="track_trace_event_form_view" model="ir.ui.view">
            <field name="name">track.trace.event.form.view</field>
            <field name="model">track.trace.event</field>
            <field name="arch" type="xml">
                <form string="Track Trace Event">
                    <header>
                        <button name="get_route_waypoints" type="object" class="btn-primary" string="Get Waypoints" attrs="{'invisible': [('allow_import_waypoints', '!=', True)]}"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="carrier_booking"/>
                                <field name="transport_id"/>
                            </group>
                            <group>
                                <field name="event_stage"/>
                                <field name="cont_id"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Transport Event" name="transport_event">
                                <field name="transport_event_line">
                                    <tree string="Transport Event">
                                        <!-- <field name="port_of_origin" />
                                        <field name="mode_of_transport"/>
                                        <field name="fpod" />
                                        <field name="planned_departure_time" />
                                        <field name="planned_arrival_time" />
                                        <field name="estimated_departure_time" />
                                        <field name="estimated_arrival_time"/>
                                        <field name="actual_departure_time"/>
                                        <field name="actual_arrival_time"/> -->
                                        <field name="transport_event_id"/>
                                        <field name="event_classifier_code"/>
                                        <field name="transport_event_type_code"/>
                                        <field name="event_datetime"/>
                                        <field name="transport_reference"/>
                                        <field name="container_id"/>
                                        <field name="mode_of_transport_code"/>
                                        <field name="delay_reason"/>
                                        <field name="distance"/>
                                        <field name="speed"/>
                                        <field name="fuel"/>
                                        <field name="fuel_consumption"/>
                                        <field name="co2_emmision"/>
                                        <field name="route_waypoint" invisible="1"/>
                                        <field name="mail_sent" invisible="1"/>
                                    </tree>
                                    <form string="Transport Event">
                                        <!-- <group>
                                            <group>
                                                <field name="mode_of_transport" />
                                            </group>
                                        </group>
                                        <group>
                                            <group colspan="4" col="4">
                                                <field name="port_of_origin" />
                                                <field name="fpod" />
                                            </group>
                                        </group> -->
                                        <group colspan="4" col="4">
                                            <field name="event_created_datetime"/>
                                            <field name="event_datetime"/>
                                        </group>
                                        <group colspan="4" col="4">
                                                <field name="event_type" />
                                                <field name="event_description"/>
                                            </group>
                                        <group colspan="4" col="4">
                                            <field name="transport_event_id"/>
                                            <field name="event_classifier_code"/>
                                            <field name="transport_event_type_code"/>
                                        </group>

                                        <!-- <group colspan="4" col="4">
                                            <field name="planned_arrival_time" />
                                            <field name="planned_departure_time" />
                                            <field name="estimated_arrival_time"/>
                                            <field name="estimated_departure_time" />
                                            <field name="actual_arrival_time"/>
                                            <field name="actual_departure_time"/>

                                        </group> -->
                                        <group>
                                            <field name="delay_reason"/>
                                            <field name="change_remark"/>
                                        </group>
                                        <group colspan="4" col="4">
                                            <field name="transport_id"/>
                                            <field name="transport_reference"/>
                                            <field name="container_id"/>
                                            <field name="transport_name"/>
                                            <field name="mode_of_transport_code"/>
                                            <field name="load_transport_call_id"/>
                                            <field name="discharge_transport_call_id"/>
                                            <field name="vessel_imo_number"/>
                                        </group>
                                        <group colspan="4" col="4" string="Transport Call">
                                            <field name="transport_call_id"/>
                                            <field name="carrier_service_code"/>
                                            <field name="carrier_voyage_number"/>
                                            <field name="un_location_code"/>
                                            <field name="facility_code"/>
                                            <field name="facility_code_list_provider"/>
                                            <field name="facility_type_code"/>
                                            <field name="other_facility"/>
                                            <!-- <field name="mode_of_transport"/> -->
                                            <field name="location"/>
                                        </group>
                                        <group colspan="4" col="4" string="CO2 Emmision">
                                            <field name="distance"/>
                                            <field name="speed"/>
                                            <field name="fuel"/>
                                            <field name="fuel_consumption"/>
                                            <field name="co2_emmision"/>
                                        </group>
                                        <group colspan="4" col="4" string="Vessel">
                                            <field name="vessel_imo_number"/>
                                            <field name="vessel_name"/>
                                            <field name="vessel_flag"/>
                                            <field name="vessel_call_sign_number"/>
                                            <field name="vessel_operator_carrier_code"/>
                                            <field name="vessel_operator_carrier_code_list_provider"/>
                                        </group>
                                        <group colspan="4" col="4" string="Location">
                                                <field name="locode"/>
                                                <field name="location_name"/>
                                                <field name="country"/>
                                                <field name="timezone"/>
                                                <field name="latitude"/>
                                                <field name="longitude"/>
                                        </group>
                                        <group>
                                            <field name="document_reference_line" string="Document References">
                                                <tree string="Document References" editable="bottom">
                                                    <field name="document_reference_type"/>
                                                    <field name="document_reference_value"/>
                                                </tree>
                                            </field>
                                            <field name="reference_line" string="References">
                                                <tree string="References" editable="bottom">
                                                    <field name="reference_type"/>
                                                    <field name="reference_value"/>
                                                </tree>
                                            </field>
                                        </group>
                                        <group string="Waypoints" invisible="1">
                                            <field name="route_waypoint" />
                                        </group>
                                    </form>

                                </field>
                            </page>
                            <page string="Equipment Event" name="equipment_event">
                                <field name="equipment_event_line">
                                    <tree string="Equipment Event">
                                        <field name="equip_event_id"/>
                                        <field name="event_created_datetime"/>
                                        <field name="event_datetime"/>
                                        <field name="event_classifier_code"/>
                                        <field name="equip_event_type_code"/>
                                        <field name="equip_reference"/>
                                        <field name="iso_equip_code"/>
                                        <field name="empty_indicator_code"/>
                                        <field name="shipment_id"/>
                                        <field name="transport_call"/>
                                        <field name="event_location"/>
                                        <field name="document_references"/>
                                        <field name="references_type_code"/>
                                        <field name="reference_values"/>
                                        <field name="seal_no"/>
                                        <field name="seal_source"/>
                                        <field name="seal_type"/>
                                    </tree>
                                    <form string="Equipment Event">
                                        <group>
                                            <group colspan="4" col="4">
                                                <field name="equip_event_id"/>
                                                <field name="event_created_datetime"/>
                                                <field name="event_datetime"/>
                                                <field name="event_classifier_code"/>
                                                <field name="equip_event_type_code"/>
                                                <field name="event_type" />
                                                <field name="event_description"/>
                                                <field name="equip_reference"/>
                                                <field name="iso_equip_code"/>
                                                <field name="empty_indicator_code"/>
                                                <field name="shipment_id"/>
                                                <field name="transport_call"/>
                                                <field name="event_location"/>
                                                <field name="document_references"/>
                                                <field name="references_type_code"/>
                                                <field name="reference_values"/>
                                                <field name="seal_no"/>
                                                <field name="seal_source"/>
                                                <field name="seal_type"/>
                                            </group>
                                            <group colspan="4" col="4" string="Location">
                                                <field name="locode"/>
                                                <field name="location_name"/>
                                                <field name="country"/>
                                                <field name="timezone"/>
                                                <field name="latitude"/>
                                                <field name="longitude"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                            <page name='shipment_event' string="Shipment Event">
                                <field name="shipment_event_line" string="Shipment Event">
                                    <tree string="Shipment Event">
                                        <field name="shipment_event" force_save="1"/>
                                        <field name="event_created" force_save="1"/>
                                        <field name="event_datetime" force_save="1"/>
                                        <field name="event_classifier_code" force_save="1"/>
                                        <field name="shipment_event_type_code" force_save="1"/>
                                        <field name="document_type_code" force_save="1"/>
                                        <field name="document_id" force_save="1"/>
                                        <field name="reason" force_save="1"/>
                                        <field name="booking_id" force_save="1"/>

                                    </tree>
                                    <form string="Shipment Event">
                                        <group>
                                            <group colspan="4" col="4">
                                                <field name="shipment_event" force_save="1"/>
                                                <field name="event_created" force_save="1"/>
                                                <field name="event_datetime" force_save="1"/>
                                                <field name="event_classifier_code" force_save="1"/>
                                                <field name="shipment_event_type_code" force_save="1"/>
                                                <field name="document_type_code" force_save="1"/>
                                                <field name="document_id" force_save="1"/>
                                                <field name="reason" force_save="1"/>
                                                <field name="booking_id" force_save="1"/>
                                            </group>
                                        </group>
                                    </form>

                                </field>
                            </page>
                            <page name='Other_information' string="Other Info" >
                                <group>
                                    <group>
                                        <field name="is_standalone_tnt" readonly="1" force_save="1"/>
                                        <field name="standalone_user_id" readonly="1" force_save="1"/>
                                        <field name="destination_eta"/>
                                        <field name="under_detention"/>
                                        <field name="under_demurrage"/>
                                        <field name="is_delayed"/>
                                        <field name="at_origin"/>
                                        <field name="at_destination"/>
                                        <field name="in_transit"/>
                                        <field name="at_ts_port"/>
                                    </group>
                                    <group>
                                        <field name="gt_tracked"/>
                                        <field name="port_of_origin_id"/>
                                        <field name="fpod_id"/>
                                        <field name="cont_id"/>
                                        <field name="cont_type"/>
                                        <field name="transport_document_reference"/>
                                        <field name="party_name_id" />
                                        <field name="partner_id" />
                                        <field name="at_origin_time"/>
                                        <field name="at_dest_time"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Waypoints">
                                <group colspan="4" col="4" >
                                    <field name="allow_import_waypoints" invisible="1"/>
                                </group>
                                <group>
                                    <field name="waypoint_coordinates" nolabel="1" readonly="1" force_save="1"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="track_trace_event_action" model="ir.actions.act_window">
            <field name="name">Track Trace Event</field>
            <field name="res_model">track.trace.event</field>
            <field name="type">ir.actions.act_window</field>
            <field name="context">{}</field>
            <field name="search_view_id" ref="track_trace_event_search_view"/>
            <field name="view_id" ref="track_trace_event_tree_view"/>
            <field name="view_mode">tree,form</field>
        </record>

        <!--Track Trace Event Dashboard Action-->
        <record id="tnt_event_dashboard_list" model="ir.actions.act_window">
            <field name="name">Track Trace Event</field>
            <field name="res_model">track.trace.event</field>
            <field name="type">ir.actions.act_window</field>
            <field name="search_view_id" ref="track_trace_event_search_view"/>
            <field name="view_id" ref="track_trace_event_tree_view"/>
            <field name="view_mode">tree,form</field>
            <field name="target">main</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_empty_folder">
                    No Events to Display
                </p>
            </field>
        </record>
    </data>
</odoo>
